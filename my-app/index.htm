<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple E2E App</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        input { margin: 5px 0; }
        .item { margin: 5px 0; }
        .hidden { display: none; }
    </style>
</head>
<body>

<h2>User Registration</h2>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button id="register-btn">Register</button>
<p id="registration-success" class="hidden">Registration successful</p>

<h2>User Login</h2>
<input type="text" id="login-username" placeholder="Username">
<input type="password" id="login-password" placeholder="Password">
<button id="login-btn">Login</button>
<p id="welcome-message" class="hidden"></p>

<h2>Items</h2>
<input type="text" id="new-item" placeholder="New Item">
<button id="add-item-btn">Add Item</button>
<div id="items-list"></div>
<p id="no-items" class="hidden">No items found</p>

<script>
    const registeredUsers = {};
    const items = [];

    const regSuccess = document.getElementById("registration-success");
    const welcome = document.getElementById("welcome-message");
    const itemsList = document.getElementById("items-list");
    const noItems = document.getElementById("no-items");

    document.getElementById("register-btn").onclick = () => {
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        if (username && password) {
            registeredUsers[username] = password;
            regSuccess.classList.remove("hidden");
            setTimeout(() => regSuccess.classList.add("hidden"), 2000);
        }
    };

    document.getElementById("login-btn").onclick = () => {
        const username = document.getElementById("login-username").value;
        const password = document.getElementById("login-password").value;
        if (registeredUsers[username] && registeredUsers[username] === password) {
            welcome.textContent = `Welcome, ${username}`;
            welcome.classList.remove("hidden");
        }
    };

    const renderItems = () => {
        itemsList.innerHTML = "";
        if (items.length === 0) {
            noItems.classList.remove("hidden");
        } else {
            noItems.classList.add("hidden");
            items.forEach((item, idx) => {
                const div = document.createElement("div");
                div.className = "item";
                div.textContent = item;
                const delBtn = document.createElement("button");
                delBtn.textContent = "Delete";
                delBtn.onclick = () => { items.splice(idx, 1); renderItems(); };
                div.appendChild(delBtn);
                itemsList.appendChild(div);
            });
        }
    };

    document.getElementById("add-item-btn").onclick = () => {
        const newItem = document.getElementById("new-item").value;
        if (newItem) {
            items.push(newItem);
            renderItems();
        }
    };
</script>

</body>
</html>
